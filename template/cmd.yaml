commands:
    - category: Shelly
      name: ListMethods
      description: This method lists all available RPC methods. It takes into account both ACL and authentication restrictions and only lists the methods allowed for the particular user/channel that's making the request.
      response:
        methods:
          type: map[string]string
          description: "Names of the methods allowed."
    - category: Shelly
      name: GetDeviceInfo
      description: This method returns information about the device.
      request:
        ident: 
          type: bool
          description: Flag specifying if extra identifying information should be displayed.
          omitempty: true
      response:
        id: 
          type: string
          description: "Id of the device."
        mac:
          type: string
          description: "MAC address of the device."
        model:
          type: string
          description: "Model of the device."
        gen:
          type: int
          description: "Generation of the device."
        fw_id:
          type: string
          description: "Id of the firmware of the device."
        ver:
          type: string
          description: "Version of the firmware of the device."
        app:
          type: string
          description: "Application name."
        profile:
          type: string
          description: "Name of the device profile (only applicable for multi-profile devices)."
        auth_en:
          type: bool
          description: "true if authentication is enabled, false otherwise."
        auth_domain:
          type: string
          description: "Name of the domain (null if authentication is not enabled)."
        discoverable:
          type: bool
          description: "true if the device is discoverable, false otherwise."
        key:
          type: string
          description: "Cloud key of the device (see note below), present only when the ident parameter is set to true"
        batch:
          type: string
          description: "Batch used to provision the device, present only when the ident parameter is set to true"
        fw_sbits:
          type: string
          description: "Shelly internal flags, present only when the ident parameter is set to true"
    # Switch
    ## Switch.SetConfig - https://shelly-api-docs.shelly.cloud/gen2/ComponentsAndServices/Switch#switchsetconfig
    - category: Switch  
      name: SetConfig
      request: 
        id:
          type: string
          description: Id of the Switch component instance.
        config:
          type: object
          description: Configuration that the method takes.
          omitempty: true
          items:
            id: 
              type: string
              description: Id of the Switch component instance.
            name:
              type: string
              description: Name of the switch instance.
              omitempty: true
            in_mode:
              type: string
              description: "Mode of the associated input. Range of values: momentary, follow, flip, detached"
            initial_state:
              type: string
              description: "Output state to set on power_on. Range of values: off, on, restore_last, match_input"
            auto_on:
              type: bool
              description: "True if the \"Automatic ON\" function is enabled, false otherwise"
            auto_on_delay:
              type: int
              description: "Seconds to pass until the component is switched back on"
            auto_off:
              type: bool
              description: "True if the \"Automatic OFF\" function is enabled, false otherwise"
            auto_off_delay:
              type: int
              description: "Seconds to pass until the component is switched back off"
            autorecover_voltage_errors:
              type: bool
              description: "True if switch output state should be restored after over/undervoltage error is cleared, false otherwise (shown if applicable)"
            input_id:
              type: int
              description: "Id of the Input component which controls the Switch. Applicable only to Pro1 and Pro1PM devices. Valid values: 0, 1"
            power_limit:
              type: int
              description: "Limit (in Watts) over which overpower condition occurs (shown if applicable)"
              omitempty: true
            voltage_limit:
              type: int
              description: "Limit (in Volts) over which overvoltage condition occurs (shown if applicable)"
              omitempty: true
            undervoltage_limit:
              type: int
              description: "Limit (in Volts) under which undervoltage condition occurs (shown if applicable)"
              omitempty: true
            current_limit:
              type: int
              description: "Number, limit (in Amperes) over which overcurrent condition occurs (shown if applicable)"
              omitempty: true
    ## Switch.GetConfig - https://shelly-api-docs.shelly.cloud/gen2/ComponentsAndServices/Switch#switchgetconfig
    - category: Switch  
      name: GetConfig
      request: 
        id:
          type: string
          description: Id of the Switch component instance.
      response:
        id: 
          type: string
          description: Id of the Switch component instance.
        name:
          type: string
          description: Name of the switch instance.
          omitempty: true
        in_mode:
          type: string
          description: "Mode of the associated input. Range of values: momentary, follow, flip, detached"
        initial_state:
          type: string
          description: "Output state to set on power_on. Range of values: off, on, restore_last, match_input"
        auto_on:
          type: bool
          description: "True if the \"Automatic ON\" function is enabled, false otherwise"
        auto_on_delay:
          type: int
          description: "Seconds to pass until the component is switched back on"
        auto_off:
          type: bool
          description: "True if the \"Automatic OFF\" function is enabled, false otherwise"
        auto_off_delay:
          type: int
          description: "Seconds to pass until the component is switched back off"
        autorecover_voltage_errors:
          type: bool
          description: "True if switch output state should be restored after over/undervoltage error is cleared, false otherwise (shown if applicable)"
        input_id:
          type: int
          description: "Id of the Input component which controls the Switch. Applicable only to Pro1 and Pro1PM devices. Valid values: 0, 1"
        power_limit:
          type: int
          description: "Limit (in Watts) over which overpower condition occurs (shown if applicable)"
          omitempty: true
        voltage_limit:
          type: int
          description: "Limit (in Volts) over which overvoltage condition occurs (shown if applicable)"
          omitempty: true
        undervoltage_limit:
          type: int
          description: "Limit (in Volts) under which undervoltage condition occurs (shown if applicable)"
          omitempty: true
        current_limit:
          type: int
          description: "Number, limit (in Amperes) over which overcurrent condition occurs (shown if applicable)"
          omitempty: true
    ## Switch.GetStatus - https://shelly-api-docs.shelly.cloud/gen2/ComponentsAndServices/Switch#switchgetstatus
    - category: Switch  
      name: GetStatus
      request: 
        id:
          type: string
          description: Id of the Switch component instance.
      response:
        id: 
          type: string
          description: Id of the Switch component instance.
        source:
          type: string
          description: "Source of the last command, for example: init, WS_in, http, ..."
        output:
          type: bool
          description: "true if the output channel is currently on, false otherwise"
        timer_started_at:
          type: int
          description: "Unix timestamp, start time of the timer (in UTC) (shown if the timer is triggered)"
          omitempty: true
        timer_duration:
          type: int
          description: "Duration of the timer in seconds (shown if the timer is triggered)"
          omitempty: true
        apower:
          type: int
          description: "Last measured instantaneous active power (in Watts) delivered to the attached load (shown if applicable)"
          omitempty: true
        voltage:
          type: int
          description: "Last measured voltage in Volts (shown if applicable)"
          omitempty: true
        current:
          type: int
          description: "Last measured current in Amperes (shown if applicable)"
          omitempty: true
        pf:
          type: int
          description: "Last measured power factor (shown if applicable)"
          omitempty: true
        aenergy:
          type: object
          description: Information about the active energy counter (shown if applicable)
          omitempty: true
          items:
            total:
              type: int
              description: Total energy consumed in Watt-hours
            by_minute:
              type: "[]int"
              description: Energy consumption by minute (in Milliwatt-hours) for the last three minutes (the lower the index of the element in the array, the closer to the current moment the minute)
            minute_ts:
              type: int
              description: Unix timestamp of the first second of the last minute (in UTC)
        temperature:
          type: object
          description: Information about the temperature
          items:
            tC:
              type: int
              description: Temperature in Celsius (null if temperature is out of the measurement range)
            tF:
              type: int
              description: Temperature in Fahrenheit (null if temperature is out of the measurement range)
        errors:
          type: "[]string"
          description: "Error conditions occurred. May contain overtemp, overpower, overvoltage, undervoltage, (shown if at least one error is present)"
          omitempty: true
    # Switch.Toggle - https://shelly-api-docs.shelly.cloud/gen2/ComponentsAndServices/Switch#switchtoggle
    - category: Switch  
      name: Toggle
      request: 
        id:
          type: int
          description: Id of the Switch component instance.
      response:
        was_on: 
          type: bool
          description: True if the switch was on before the method was executed, false otherwise.
    # Switch.Set - https://shelly-api-docs.shelly.cloud/gen2/ComponentsAndServices/Switch#switchset
    - category: Switch
      name: Set
      description: This method sets the output of the Switch component to on or off.
      request:
        id:
          type: string
          description: Id of the Switch component instance.
        on:
          type: bool
          description: True for switch on, false otherwise.
        toggle_after:
          type: int
          description: "Number, seconds to wait before toggling the switch back to its previous state."
          omitempty: true
      response:
        was_on:
          type: bool
          description: True if the switch was on before the method was executed, false otherwise.
    #
    # > End of Switch
    #

    #
    # > Start of Light
    #
    ## Light.GetConfig - https://shelly-api-docs.shelly.cloud/gen2/ComponentsAndServices/Light#lightgetconfig
    - category: Light  
      name: GetConfig
      request: 
        id:
          type: string
          description: Id of the Light component instance.
      response:
        id: 
          type: string
          description: Id of the Light component instance.
        name:
          type: string
          description: Name of the light instance.
          omitempty: true
        initial_state:
          type: string
          description: "Output state to set on power_on. Range of values: off, on, restore_last"
        auto_on:
          type: bool
          description: "True if the \"Automatic ON\" function is enabled, false otherwise"
        auto_on_delay:
          type: int
          description: "Seconds to pass until the component is switched back on"
        auto_off:
          type: bool
          description: "True if the \"Automatic OFF\" function is enabled, false otherwise"
        auto_off_delay:
          type: int
          description: "Seconds to pass until the component is switched back off"
        default.brightness:
          type: int
          description: "Brightness level (in percent) after power on"
          omitempty: true
        night_mode.enable:
          type: bool
          description: "Enable or disable night mode"
        night_mode.brightness:
          type: int
          description: "Brightness level limit when night mode is active"
        night_mode.active_between:
          type: "[]string"
          description: "Containing 2 elements of type string, the first element indicates the start of the period during which the night mode will be active, the second indicates the end of that period. Both start and end are strings in the format HH:MM, where HH and MM are hours and minutes with optinal leading zeros."
    ## Light.GetStatus - https://shelly-api-docs.shelly.cloud/gen2/ComponentsAndServices/Light#lightgetstatus  
    - category: Light  
      name: GetStatus
      request: 
        id:
          type: string
          description: Id of the Light component instance.
      response:
        id: 
          type: string
          description: Id of the Light component instance.
        source:
          type: string
          description: "Source of the last command, for example: init, WS_in, http, ..."
        output:
          type: bool
          description: "true if the output channel is currently on, false otherwise"
        brightness:
          type: int
          description: "Brightness level (in percent)"
        timer_started_at:
          type: int
          description: "Unix timestamp, start time of the timer (in UTC) (shown if the timer is triggered)"
          omitempty: true
        timer_duration:
          type: int
          description: "Duration of the timer in seconds (shown if the timer is triggered)"
          omitempty: true
    # Light.SetConfig - https://shelly-api-docs.shelly.cloud/gen2/ComponentsAndServices/Light#lightsetconfig
    - category: Light
      name: SetConfig
      description: This method sets the configuration of the Light component.
      request:
        id:
          type: string
          description: Id of the Light component instance.
        config:
          type: object
          description: Configuration that the method takes.
          omitempty: true
          items: 
            id: 
              type: string
              description: Id of the Light component instance.
            name:
              type: string
              description: Name of the light instance.
              omitempty: true
            initial_state:
              type: string
              description: "Output state to set on power_on. Range of values: off, on, restore_last"
            auto_on:
              type: bool
              description: "True if the \"Automatic ON\" function is enabled, false otherwise"
            auto_on_delay:
              type: int
              description: "Seconds to pass until the component is switched back on"
            auto_off:
              type: bool
              description: "True if the \"Automatic OFF\" function is enabled, false otherwise"
            auto_off_delay:
              type: int
              description: "Seconds to pass until the component is switched back off"
            default.brightness:
              type: int
              description: "Brightness level (in percent) after power on"
              omitempty: true
            night_mode.enable:
              type: bool
              description: "Enable or disable night mode"
            night_mode.brightness:
              type: int
              description: "Brightness level limit when night mode is active"
            night_mode.active_between:
              type: "[]string"
              description: "Containing 2 elements of type string, the first element indicates the start of the period during which the night mode will be active, the second indicates the end of that period. Both start and end are strings in the format HH:MM, where HH and MM are hours and minutes with optinal leading zeros."
    ## Light.Set - https://shelly-api-docs.shelly.cloud/gen2/ComponentsAndServices/Light#lightset
    - category: Light
      name: Set
      description: This method sets the output of the Light component to on or off. At least one of the on and brightness parameters is required.
      request:
        id:
          type: string
          description: Id of the Light component instance.
        on:
          type: bool
          description: True for light on, false otherwise.
          omitempty: true
        brightness:
          type: int
          description: "Brightness level (in percent)"
          omitempty: true
        toggle_after:
          type: int
          description: "Optional flip-back timer in seconds."
          omitempty: true
    ## Light.Toggle - https://shelly-api-docs.shelly.cloud/gen2/ComponentsAndServices/Light#lighttoggle
    - category: Light
      name: Toggle
      description: This method toggles the output of the Light component.
      request:
        id:
          type: string
          description: Id of the Light component instance.
